import{r as s,j as X}from"./index-D7w2Z35B.js";const A=({direction:x="right",speed:v=1,borderColor:g="#999",squareSize:t=40,hoverFillColor:y="#222"})=>{const w=s.useRef(null),u=s.useRef(null),p=s.useRef(0),b=s.useRef(0),n=s.useRef({x:0,y:0}),o=s.useRef(null);return s.useEffect(()=>{const e=w.current;if(!e)return;const c=e.getContext("2d"),m=()=>{e.width=e.offsetWidth,e.height=e.offsetHeight,p.current=Math.ceil(e.width/t)+1,b.current=Math.ceil(e.height/t)+1};window.addEventListener("resize",m),m();const L=()=>{if(!c)return;c.clearRect(0,0,e.width,e.height);const r=Math.floor(n.current.x/t)*t,f=Math.floor(n.current.y/t)*t;for(let l=r;l<e.width+t;l+=t)for(let h=f;h<e.height+t;h+=t){const i=l-n.current.x%t,a=h-n.current.y%t;o.current&&Math.floor((l-r)/t)===o.current.x&&Math.floor((h-f)/t)===o.current.y&&(c.fillStyle=y,c.fillRect(i,a,t,t)),c.strokeStyle=g,c.strokeRect(i,a,t,t)}const d=c.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,Math.sqrt(e.width**2+e.height**2)/2);d.addColorStop(0,"rgba(0, 0, 0, 0)"),c.fillStyle=d,c.fillRect(0,0,e.width,e.height)},R=()=>{const r=Math.max(v,.1);switch(x){case"right":n.current.x=(n.current.x-r+t)%t;break;case"left":n.current.x=(n.current.x+r+t)%t;break;case"up":n.current.y=(n.current.y+r+t)%t;break;case"down":n.current.y=(n.current.y-r+t)%t;break;case"diagonal":n.current.x=(n.current.x-r+t)%t,n.current.y=(n.current.y-r+t)%t;break}L(),u.current=requestAnimationFrame(R)},M=r=>{const f=e.getBoundingClientRect(),d=r.clientX-f.left,l=r.clientY-f.top,h=Math.floor(n.current.x/t)*t,i=Math.floor(n.current.y/t)*t,a=Math.floor((d+n.current.x-h)/t),k=Math.floor((l+n.current.y-i)/t);(!o.current||o.current.x!==a||o.current.y!==k)&&(o.current={x:a,y:k})},E=()=>{o.current=null};return e.addEventListener("mousemove",M),e.addEventListener("mouseleave",E),u.current=requestAnimationFrame(R),()=>{window.removeEventListener("resize",m),u.current&&cancelAnimationFrame(u.current),e.removeEventListener("mousemove",M),e.removeEventListener("mouseleave",E)}},[x,v,g,y,t]),X.jsx("canvas",{ref:w,className:"w-full h-full border-none block"})};export{A as default};
